{"version":3,"sources":["webpack:///./src/views/Tweet.vue","webpack:///./src/components/TweetDetail.vue","webpack:///src/components/TweetDetail.vue","webpack:///./src/components/TweetDetail.vue?36d2","webpack:///./src/components/TweetDetail.vue?4c97","webpack:///src/views/Tweet.vue","webpack:///./src/views/Tweet.vue?1381","webpack:///./src/views/Tweet.vue?3ae9","webpack:///./src/assets/images/back.svg"],"names":["render","_vm","this","_c","_self","staticClass","attrs","isLoading","tweet","replies","on","afterDeleteReply","afterLikeTweet","afterUnlikeTweet","staticRenderFns","require","$event","$router","push","_v","name","params","id","user","_f","avatar","_s","account","description","createdAt","replyCount","likeCount","fetchTweet","isLiked","isProcessing","preventDefault","stopPropagation","unlike","like","length","_l","reply","key","User","directives","rawName","value","currentUser","expression","deleteReply","Tweet","comment","modalIsLoading","showModal","replyTweet","mixins","components","ReplyModal","Spinner","props","type","required","data","methods","console","Toast","icon","title","showCancelButton","cancelButtonColor","cancelButtonText","confirmButtonColor","confirmButtonText","tweet_id","computed","component","TweetDetail","created","beforeRouteUpdate","next","module","exports"],"mappings":"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qBACA,SACA,qBAEAH,eAEAC,aACAC,aACAC,uBAIA,gBACA,IACA,qBAEA,WAAAL,SAAA,eAAAxC,OAEA,sBACA,2BAGA,mCAEA2C,aACAC,eACAC,mBAGA,2BACA,qBACA,SACA,qBAEAH,eAEAC,aACAC,aACAC,yBAIA,uBACA,IACA,qBAEA,wBACAD,eACAC,qBACAC,oBACAC,4BACAC,sBACAC,6BACAC,yBAGA,kBAEA,YADA,sBAIA,WAAAV,SAAA,oBAAAW,WAAAnD,OAEA,sBACA,2BAGA2C,aACAC,eACAC,iBAGA,mCACA,2BACA,qBACA,SACA,qBAEAH,eAEAC,aACAC,aACAC,0BAKAO,aACA,kCC5VqV,I,YCOjVC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCGA,GACfvD,YACAoC,YAAAoB,eACAd,OACA,OACAtD,OACAc,KACAM,eACAC,aACAC,aACAC,YACAE,UACAV,SAEAd,WACAF,eAGAsE,UACA,SAAAvD,GAAA,mBAEA,mBACA,2BAEAwD,yBACA,SAAAxD,GAAA,SAEA,mBACA,0BAEAyD,KAEAhB,SACA,oBACA,IACA,WAAAD,SAAA,iBAAAxC,OAEA,sBACA,2BAGA,mBACA,iCACA,qCACA,iCACA,mCACA,6BACA,uBACA,SACA0C,eAEAC,aACAC,aACAC,yBAIA,2BACA,IACA,kBAEA,WAAAL,SAAA,mBAAAW,aAEA,sBACA,2BAGA,eACA,kBACA,SACA,kBAEAT,eAEAC,aACAC,aACAC,yBAIAxD,oBACA,+CAEAC,kBACA,oBACA,eACA,WACAqB,cAIApB,oBACA,oBACA,eACA,WACAoB,eAKAyC,aACA,kCC1H+U,ICO3U,EAAY,eACd,EACA1E,EACAc,GACA,EACA,KACA,KACA,MAIa,e,8BClBfkE,EAAOC,QAAU,IAA0B","file":"js/chunk-133fdb14.df98f9c5.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"home__container row flex-nowrap\"},[_c('TweetDetail',{attrs:{\"is-loading\":_vm.isLoading,\"tweet\":_vm.tweet,\"replies\":_vm.replies},on:{\"after-delete-reply\":_vm.afterDeleteReply,\"after-like-tweet\":_vm.afterLikeTweet,\"after-unlike-tweet\":_vm.afterUnlikeTweet}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isLoading)?_c('Spinner'):_c('div',{staticClass:\"home-tweet__container d-flex flex-column\"},[_c('div',{staticClass:\"home-tweet__container__title d-flex\"},[_c('img',{staticClass:\"home-tweet__container__title__img cursor-pointer\",attrs:{\"src\":require(\"../assets/images/back.svg\"),\"alt\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/home')}}}),_c('h4',[_vm._v(\"推文\")])]),_c('div',{staticClass:\"scrollbar\"},[_c('div',{staticClass:\"home-tweet__container__tweet d-flex flex-column\"},[_c('div',{staticClass:\"home-tweet__container__tweet__title d-flex\"},[_c('router-link',{attrs:{\"to\":{ name: 'profile', params: { id: _vm.tweet.user.id } }}},[_c('img',{staticClass:\"home-tweet__container__tweet__title__img\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.tweet.user.avatar),\"alt\":\"\"}})]),_c('div',{staticClass:\"home-tweet__container__tweet__title__box\"},[_c('router-link',{staticClass:\"home-tweet__container__tweet__title__box__name none\",attrs:{\"to\":{ name: 'profile', params: { id: _vm.tweet.user.id } }}},[_vm._v(\" \"+_vm._s(_vm.tweet.user.name)+\" \")]),_c('div',{staticClass:\"home-tweet__container__tweet__title__box__account\"},[_vm._v(\" \"+_vm._s(_vm._f(\"atAccount\")(_vm.tweet.user.account))+\" \")])],1)],1),_c('div',{staticClass:\"home-tweet__container__tweet__description\"},[_vm._v(\" \"+_vm._s(_vm.tweet.description)+\" \")]),_c('div',{staticClass:\"home-tweet__container__tweet__createdAt\"},[_vm._v(\" \"+_vm._s(_vm._f(\"time\")(_vm.tweet.createdAt))+\"・\"+_vm._s(_vm._f(\"date\")(_vm.tweet.createdAt))+\" \")])]),_c('div',{staticClass:\"home-tweet__container__tweet__num d-flex\"},[_c('div',{staticClass:\"home-tweet__container__tweet__num__box\"},[_c('span',{staticClass:\"home-tweet__container__tweet__num__box__count num-font\"},[_vm._v(_vm._s(_vm.tweet.replyCount))]),_c('span',{staticClass:\"home-tweet__container__tweet__num__box__unit\"},[_vm._v(\"回覆\")])]),_c('div',{staticClass:\"home-tweet__container__tweet__num__box\"},[_c('span',{staticClass:\"home-tweet__container__tweet__num__box__count num-font\"},[_vm._v(_vm._s(_vm.tweet.likeCount))]),_c('span',{staticClass:\"home-tweet__container__tweet__num__box__unit\"},[_vm._v(\"喜歡次數\")])])]),_c('div',{staticClass:\"home-tweet__container__tweet d-flex\"},[_c('button',{staticClass:\"home-tweet__container__tweet__icon\"},[_c('img',{attrs:{\"src\":require(\"../assets/images/reply.svg\"),\"alt\":\"\"},on:{\"click\":function($event){return _vm.fetchTweet(_vm.tweet.id)}}})]),(!_vm.tweet.isLiked)?_c('button',{staticClass:\"home-tweet__container__tweet__icon\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.like(_vm.tweet.id)}}},[_c('img',{attrs:{\"src\":require(\"../assets/images/unlike.svg\"),\"alt\":\"\"}})]):_c('button',{staticClass:\"home-tweet__container__tweet__icon\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.unlike(_vm.tweet.id)}}},[_c('img',{attrs:{\"src\":require(\"../assets/images/like.svg\"),\"alt\":\"\"}})])]),_c('div',{staticClass:\"home-tweet__container__reply-list\"},[(!_vm.replies.length)?_c('div',{staticClass:\"home-tweet__container__tweet-list__blank\"},[_vm._v(\" 目前沒有回覆 \")]):_vm._l((_vm.replies),function(reply){return _c('div',{key:reply.id,staticClass:\"home-tweet__container__tweet-list__tweet d-flex\"},[_c('router-link',{attrs:{\"to\":{ name: 'profile', params: { id: reply.User.id } }}},[_c('img',{staticClass:\"home-tweet__container__tweet-list__tweet__avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(reply.User.avatar),\"alt\":\"\"}})]),_c('div',{staticClass:\"home-tweet__container__tweet-list__tweet__text d-flex flex-column\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('div',{staticClass:\"tweet-list__tweet__title d-flex\"},[_c('router-link',{staticClass:\"tweet-list__tweet__title__name none\",attrs:{\"to\":{ name: 'profile', params: { id: reply.User.id } }}},[_vm._v(\" \"+_vm._s(reply.User.name)+\" \")]),_c('div',{staticClass:\"tweet-list__tweet__title__account\"},[_vm._v(\" \"+_vm._s(_vm._f(\"atAccount\")(reply.User.account))+\" \")]),_c('span',{staticClass:\"tweet-list__tweet__title__separator\"},[_vm._v(\"・\")]),_c('div',{staticClass:\"tweet-list__tweet__title__createdAt\"},[_vm._v(\" \"+_vm._s(_vm._f(\"fromNow\")(reply.createdAt))+\" \")])],1),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentUser.id === reply.User.id),expression:\"currentUser.id === reply.User.id\"}],staticClass:\"home-tweet__container__tweet-list__tweet__delete__reply\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){return _vm.deleteReply(_vm.tweet.id, reply.id)}}},[_vm._v(\" × \")])]),_c('div',{staticClass:\"home-tweet__container__tweet-list__tweet__text__reply d-flex\"},[_c('span',{staticClass:\"tweet-list__tweet__reply\"},[_vm._v(\"回覆\")]),_c('router-link',{attrs:{\"to\":{ name: 'profile', params: { id: reply.Tweet.User.id } }}},[_c('span',{staticClass:\"tweet-list__tweet__reply-to\"},[_vm._v(_vm._s(_vm._f(\"atAccount\")(reply.Tweet.User.account)))])])],1),_c('div',{staticClass:\"home-tweet__container__tweet-list__tweet__text__reply__description\"},[_vm._v(\" \"+_vm._s(reply.comment)+\" \")])])],1)})],2)]),(_vm.modalIsLoading)?_c('Spinner'):_c('ReplyModal',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showModal),expression:\"showModal\"}],attrs:{\"reply-tweet\":_vm.replyTweet},on:{\"close-modal\":function($event){_vm.showModal = false}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Spinner v-if=\"isLoading\" />\n  <div v-else class=\"home-tweet__container d-flex flex-column\">\n    <div class=\"home-tweet__container__title d-flex\">\n      <img\n        src=\"../assets/images/back.svg\"\n        alt=\"\"\n        class=\"home-tweet__container__title__img cursor-pointer\"\n        @click=\"$router.push('/home')\"\n      />\n      <h4>推文</h4>\n    </div>\n    <div class=\"scrollbar\">\n      <div class=\"home-tweet__container__tweet d-flex flex-column\">\n        <div class=\"home-tweet__container__tweet__title d-flex\">\n          <router-link :to=\"{ name: 'profile', params: { id: tweet.user.id } }\"\n            ><img\n              :src=\"tweet.user.avatar | emptyImage\"\n              alt=\"\"\n              class=\"home-tweet__container__tweet__title__img\"\n            />\n          </router-link>\n          <div class=\"home-tweet__container__tweet__title__box\">\n            <router-link\n              :to=\"{ name: 'profile', params: { id: tweet.user.id } }\"\n              class=\"home-tweet__container__tweet__title__box__name none\"\n            >\n              {{ tweet.user.name }}\n            </router-link>\n            <div class=\"home-tweet__container__tweet__title__box__account\">\n              {{ tweet.user.account | atAccount }}\n            </div>\n          </div>\n        </div>\n        <div class=\"home-tweet__container__tweet__description\">\n          {{ tweet.description }}\n        </div>\n        <div class=\"home-tweet__container__tweet__createdAt\">\n          {{ tweet.createdAt | time }}・{{ tweet.createdAt | date }}\n        </div>\n      </div>\n      <div class=\"home-tweet__container__tweet__num d-flex\">\n        <div class=\"home-tweet__container__tweet__num__box\">\n          <span\n            class=\"home-tweet__container__tweet__num__box__count num-font\"\n            >{{ tweet.replyCount }}</span\n          >\n          <span class=\"home-tweet__container__tweet__num__box__unit\">回覆</span>\n        </div>\n        <div class=\"home-tweet__container__tweet__num__box\">\n          <span\n            class=\"home-tweet__container__tweet__num__box__count num-font\"\n            >{{ tweet.likeCount }}</span\n          >\n          <span class=\"home-tweet__container__tweet__num__box__unit\"\n            >喜歡次數</span\n          >\n        </div>\n      </div>\n      <div class=\"home-tweet__container__tweet d-flex\">\n        <button class=\"home-tweet__container__tweet__icon\">\n          <img\n            src=\"../assets/images/reply.svg\"\n            alt=\"\"\n            @click=\"fetchTweet(tweet.id)\"\n          />\n        </button>\n        <button\n          v-if=\"!tweet.isLiked\"\n          class=\"home-tweet__container__tweet__icon\"\n          :disabled=\"isProcessing\"\n          @click.prevent.stop=\"like(tweet.id)\"\n        >\n          <img src=\"../assets/images/unlike.svg\" alt=\"\" />\n        </button>\n        <button\n          v-else\n          class=\"home-tweet__container__tweet__icon\"\n          :disabled=\"isProcessing\"\n          @click.prevent.stop=\"unlike(tweet.id)\"\n        >\n          <img src=\"../assets/images/like.svg\" alt=\"\" />\n        </button>\n      </div>\n      <div class=\"home-tweet__container__reply-list\">\n        <div\n          v-if=\"!replies.length\"\n          class=\"home-tweet__container__tweet-list__blank\"\n        >\n          目前沒有回覆\n        </div>\n        <div\n          v-else\n          v-for=\"reply in replies\"\n          :key=\"reply.id\"\n          class=\"home-tweet__container__tweet-list__tweet d-flex\"\n        >\n          <router-link :to=\"{ name: 'profile', params: { id: reply.User.id } }\">\n            <img\n              :src=\"reply.User.avatar | emptyImage\"\n              class=\"home-tweet__container__tweet-list__tweet__avatar\"\n              alt=\"\"\n            />\n          </router-link>\n          <div\n            class=\"home-tweet__container__tweet-list__tweet__text d-flex flex-column\"\n          >\n            <div class=\"d-flex justify-content-between\">\n              <div class=\"tweet-list__tweet__title d-flex\">\n                <router-link\n                  :to=\"{ name: 'profile', params: { id: reply.User.id } }\"\n                  class=\"tweet-list__tweet__title__name none\"\n                >\n                  {{ reply.User.name }}\n                </router-link>\n                <div class=\"tweet-list__tweet__title__account\">\n                  {{ reply.User.account | atAccount }}\n                </div>\n                <span class=\"tweet-list__tweet__title__separator\">・</span>\n                <div class=\"tweet-list__tweet__title__createdAt\">\n                  {{ reply.createdAt | fromNow }}\n                </div>\n              </div>\n              <button\n                v-show=\"currentUser.id === reply.User.id\"\n                class=\"home-tweet__container__tweet-list__tweet__delete__reply\"\n                :disabled=\"isProcessing\"\n                @click=\"deleteReply(tweet.id, reply.id)\"\n              >\n                ×\n              </button>\n            </div>\n            <div\n              class=\"home-tweet__container__tweet-list__tweet__text__reply d-flex\"\n            >\n              <span class=\"tweet-list__tweet__reply\">回覆</span>\n              <router-link\n                :to=\"{ name: 'profile', params: { id: reply.Tweet.User.id } }\"\n              >\n                <span class=\"tweet-list__tweet__reply-to\">{{\n                  reply.Tweet.User.account | atAccount\n                }}</span>\n              </router-link>\n            </div>\n            <div\n              class=\"home-tweet__container__tweet-list__tweet__text__reply__description\"\n            >\n              {{ reply.comment }}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <Spinner v-if=\"modalIsLoading\" />\n    <ReplyModal\n      v-else\n      v-show=\"showModal\"\n      :reply-tweet=\"replyTweet\"\n      @close-modal=\"showModal = false\"\n    />\n  </div>\n</template>\n\n<script>\nimport usersAPI from '../apis/users'\nimport tweetsAPI from '../apis/tweets'\nimport { mapState } from 'vuex'\nimport Spinner from '../components/Spinner.vue'\nimport ReplyModal from '../components/ReplyModal.vue'\nimport {\n  emptyImageFilter,\n  fromNowFilter,\n  atAccountFilter\n} from '../utils/mixins'\nimport { Toast } from '../utils/helpers'\nimport Swal from 'sweetalert2'\n\nexport default {\n  name: 'TweetDetail',\n  mixins: [emptyImageFilter, fromNowFilter, atAccountFilter],\n  components: { ReplyModal, Spinner },\n  props: {\n    tweet: {\n      type: Object,\n      required: true\n    },\n    replies: {\n      type: Array,\n      required: true\n    },\n    isLoading: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data() {\n    return {\n      isLiked: this.tweet.isLiked,\n      isProcessing: false,\n      modalIsLoading: false,\n      showModal: false,\n      replyTweet: {\n        id: 0,\n        description: '',\n        createdAt: '',\n        replyCount: 0,\n        likeCount: 0,\n        isLiked: 0,\n        User: {\n          id: 0,\n          name: '',\n          account: '',\n          avatar: ''\n        }\n      }\n    }\n  },\n  methods: {\n    async fetchTweet(id) {\n      try {\n        this.modalIsLoading = true\n        this.showModal = true\n\n        const { data } = await tweetsAPI.getTweet({ id })\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        this.replyTweet = data\n        this.modalIsLoading = false\n      } catch (error) {\n        this.modalIsLoading = false\n\n        console.log(error)\n\n        Toast.fire({\n          icon: 'error',\n          title: '無法取得推文資料，請稍後再試'\n        })\n      }\n    },\n    async like(id) {\n      try {\n        this.isProcessing = true\n\n        const { data } = await usersAPI.like({ id })\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        this.$emit('after-like-tweet', id)\n\n        Toast.fire({\n          icon: 'success',\n          title: '按讚成功！你真是個好人～'\n        })\n\n        this.$parent.fetchTweet(id)\n        this.isProcessing = false\n      } catch (error) {\n        this.isProcessing = false\n\n        console.log(error)\n\n        Toast.fire({\n          icon: 'error',\n          title: '無法按讚，請稍後再試'\n        })\n      }\n    },\n    async unlike(id) {\n      try {\n        this.isProcessing = true\n\n        const { data } = await usersAPI.unlike({ id })\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        this.$emit('after-unlike-tweet', id)\n\n        Toast.fire({\n          icon: 'success',\n          title: '不要取消嘛～～～'\n        })\n\n        this.$parent.fetchTweet(id)\n        this.isProcessing = false\n      } catch (error) {\n        this.isProcessing = false\n\n        console.log(error)\n\n        Toast.fire({\n          icon: 'error',\n          title: '無法取消喜歡，請稍後再試'\n        })\n      }\n    },\n    async deleteReply(tweet_id, id) {\n      try {\n        this.isProcessing = true\n\n        const result = await Swal.fire({\n          icon: 'warning',\n          title: '刪除無法復原，確認刪除？',\n          showCancelButton: true,\n          cancelButtonColor: '#50b5ff',\n          cancelButtonText: '取消',\n          confirmButtonColor: '#fc5a5a',\n          confirmButtonText: '確認'\n        })\n\n        if (!result.isConfirmed) {\n          this.isProcessing = false\n          return\n        }\n\n        const { data } = await tweetsAPI.deleteReply({ tweet_id, id })\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        Toast.fire({\n          icon: 'success',\n          title: '成功刪除回覆'\n        })\n\n        this.$emit('after-delete-reply', id)\n        this.$parent.fetchTweet(tweet_id)\n        this.isProcessing = false\n      } catch (error) {\n        this.isProcessing = false\n\n        console.log(error)\n\n        Toast.fire({\n          icon: 'error',\n          title: '無法刪除回覆，請稍後再試'\n        })\n      }\n    }\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetDetail.vue?vue&type=template&id=64052671&\"\nimport script from \"./TweetDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container\">\n    <div class=\"home__container row flex-nowrap\">\n      <TweetDetail\n        :is-loading=\"isLoading\"\n        :tweet=\"tweet\"\n        :replies=\"replies\"\n        @after-delete-reply=\"afterDeleteReply\"\n        @after-like-tweet=\"afterLikeTweet\"\n        @after-unlike-tweet=\"afterUnlikeTweet\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport tweetsAPI from '../apis/tweets'\nimport { mapState } from 'vuex'\nimport TweetDetail from '../components/TweetDetail.vue'\nimport { Toast } from '../utils/helpers'\n\nexport default {\n  name: 'Home',\n  components: { TweetDetail },\n  data() {\n    return {\n      tweet: {\n        id: 0,\n        description: '',\n        createdAt: '',\n        replyCount: 0,\n        likeCount: 0,\n        isLiked: 0,\n        user: {}\n      },\n      replies: [],\n      isLoading: false\n    }\n  },\n  created() {\n    const { id } = this.$route.params\n\n    this.fetchTweet(id)\n    this.fetchTweetReplies(id)\n  },\n  beforeRouteUpdate(to, from, next) {\n    const { id } = to.params\n\n    this.fetchTweet(id)\n    this.fetchTweetReplies(id)\n\n    next()\n  },\n  methods: {\n    async fetchTweet(id) {\n      try {\n        const { data } = await tweetsAPI.getTweet({ id })\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        this.tweet.id = data.id\n        this.tweet.createdAt = data.createdAt\n        this.tweet.description = data.description\n        this.tweet.likeCount = data.likeCount\n        this.tweet.replyCount = data.replyCount\n        this.tweet.isLiked = data.isLiked\n        this.tweet.user = data.User\n      } catch (error) {\n        console.log(error)\n\n        Toast.fire({\n          icon: 'error',\n          title: '無法取得貼文，請稍後再試'\n        })\n      }\n    },\n    async fetchTweetReplies(tweet_id) {\n      try {\n        this.isLoading = true\n\n        const { data } = await tweetsAPI.getReplies({ tweet_id })\n\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        this.replies = data\n        this.isLoading = false\n      } catch (error) {\n        this.isLoading = false\n\n        console.log(error)\n\n        Toast.fire({\n          icon: 'error',\n          title: '無法取得回覆，請稍後再試'\n        })\n      }\n    },\n    afterDeleteReply(id) {\n      this.replies = this.replies.filter((reply) => reply.id !== id)\n    },\n    afterLikeTweet(id) {\n      if (this.tweet.id === id) {\n        this.tweet = {\n          ...this.tweet,\n          isLiked: true\n        }\n      }\n    },\n    afterUnlikeTweet(id) {\n      if (this.tweet.id === id) {\n        this.tweet = {\n          ...this.tweet,\n          isLiked: false\n        }\n      }\n    }\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tweet.vue?vue&type=template&id=43e706fe&\"\nimport script from \"./Tweet.vue?vue&type=script&lang=js&\"\nexport * from \"./Tweet.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/back.3406615e.svg\";"],"sourceRoot":""}