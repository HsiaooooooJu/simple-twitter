(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b95aea4"],{7696:function(s,t,n){"use strict";var a=n("2fa3");t["a"]={userSignIn({account:s,password:t}){return a["b"].post("/users/signin",{account:s,password:t})},adminSignIn({account:s,password:t}){return a["b"].post("/admin/signin",{account:s,password:t})},signUp({account:s,name:t,email:n,password:i,checkPassword:r}){return a["b"].post("/users",{account:s,name:t,email:n,password:i,checkPassword:r})}}},d946:function(s,t,n){"use strict";n.r(t);var a=function(){var s=this,t=s._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"sign__container d-flex flex-column"},[s._m(0),t("h3",{staticClass:"sign__container__title"},[s._v("後台登入")]),t("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),s.adminSignIn.apply(null,arguments)}}},[t("div",{staticClass:"sign__container__form-row d-flex flex-column"},[t("label",{attrs:{for:"account"}},[s._v("帳號")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.account,expression:"account"}],attrs:{id:"account",placeholder:"請輸入帳號",type:"text",required:""},domProps:{value:s.account},on:{input:function(t){t.target.composing||(s.account=t.target.value)}}})]),t("div",{staticClass:"sign__container__form-row d-flex flex-column"},[t("label",{attrs:{for:"password"}},[s._v("密碼")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{id:"password",placeholder:"請輸入密碼",type:"password",required:""},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value)}}})]),t("button",{staticClass:"sign__container__btn",attrs:{disabled:s.isProcessing}},[s._v(" 登入 ")])]),t("div",{staticClass:"sign__container__link"},[t("div",{staticClass:"sign__container__link__wrapper"},[t("router-link",{attrs:{to:"/users/signin"}},[s._v(" 前台登入 ")])],1)])])])},i=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"sign__container__brand-logo"},[t("img",{attrs:{src:n("e255"),alt:""}})])}],r=(n("d9e2"),n("14d9"),n("7696")),e=n("2fa3"),o={name:"AdminSignIn",data(){return{account:"",password:"",isProcessing:!1}},methods:{async adminSignIn(){try{if(!this.account||!this.password)return void e["a"].fire({icon:"warning",title:"請輸入帳號和密碼"});this.isProcessing=!0;const{data:s}=await r["a"].adminSignIn({account:this.account,password:this.password});if("error"===s.status)throw new Error(s.message);localStorage.setItem("token",s.token),this.$store.commit("setCurrentUser",s.user),this.$router.push("/admin/tweets"),this.isProcessing=!1}catch(s){this.password="",this.isProcessing=!1,console.log(s),e["a"].fire({icon:"error",title:"帳號或密碼錯誤"})}}}},c=o,u=n("2877"),d=Object(u["a"])(c,a,i,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-6b95aea4.4d3719bb.js.map