(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11d51b16"],{7696:function(s,t,n){"use strict";var a=n("2fa3");t["a"]={userSignIn({account:s,password:t}){return a["b"].post("/users/signin",{account:s,password:t})},adminSignIn({account:s,password:t}){return a["b"].post("/admin/signin",{account:s,password:t})},signUp({account:s,name:t,email:n,password:r,checkPassword:o}){return a["b"].post("/users",{account:s,name:t,email:n,password:r,checkPassword:o})}}},"98b3":function(s,t,n){"use strict";n.r(t);var a=function(){var s=this,t=s._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"sign__container d-flex flex-column"},[s._m(0),t("h3",{staticClass:"sign__container__title"},[s._v("登入 Alphitter")]),t("form",{on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),s.userSignIn.apply(null,arguments)}}},[t("div",{staticClass:"sign__container__form-row d-flex flex-column form-row-margin"},[t("label",{attrs:{for:"account"}},[s._v("帳號")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.account,expression:"account"}],attrs:{id:"account",placeholder:"請輸入帳號",type:"text",required:""},domProps:{value:s.account},on:{input:function(t){t.target.composing||(s.account=t.target.value)}}})]),t("div",{staticClass:"sign__container__form-row d-flex flex-column"},[t("label",{attrs:{for:"password"}},[s._v("密碼")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{id:"password",placeholder:"請輸入密碼",type:"password",required:""},domProps:{value:s.password},on:{input:function(t){t.target.composing||(s.password=t.target.value)}}})]),t("button",{staticClass:"sign__container__btn",attrs:{disabled:s.isProcessing}},[s._v(" 登入 ")])]),t("div",{staticClass:"sign__container__link"},[t("div",{staticClass:"sign__container__link__wrapper"},[t("router-link",{attrs:{to:"/users/signup"}},[s._v(" 註冊 ")]),t("div",{staticClass:"sign__container__link__span"},[s._v("・")]),t("router-link",{attrs:{to:"/admin/signin"}},[s._v(" 後台登入 ")])],1)])])])},r=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"sign__container__brand-logo"},[t("img",{attrs:{src:n("e255"),alt:""}})])}],o=(n("d9e2"),n("14d9"),n("7696")),e=n("2fa3"),i={name:"UserSignIn",data(){return{account:localStorage.getItem("account")||"",password:"",isProcessing:!1}},methods:{async userSignIn(){try{if(!this.account||!this.password)return void e["a"].fire({icon:"warning",title:"請輸入帳號和密碼"});this.isProcessing=!0;const{data:s}=await o["a"].userSignIn({account:this.account,password:this.password});if("error"===s.status)throw new Error(s.message);localStorage.setItem("token",s.token),localStorage.removeItem("account"),this.$store.commit("setCurrentUser",s.user),this.$router.push("/home"),this.isProcessing=!1}catch(s){this.password="",this.isProcessing=!1,console.log(s),e["a"].fire({icon:"error",title:"帳號或密碼錯誤"})}}}},c=i,u=n("2877"),l=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-11d51b16.a1a048e5.js.map